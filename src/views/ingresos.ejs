<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/fontawesome-free-5.15.4-web/css/all.css">
    <link rel="stylesheet" href="/output.css">
    <title>Nueva factura</title>
</head>
<body class="font-cam">
    <%- include('partials/header') %>
    <%- include('partials/sidebar') %>
    <main class="p-2 bg-whiteSmoke xl:ml-64 ">
        <div class="border rounded-r p-4  overflow-hidden">
            <div class="flex justify-between mb-2">
                <div>
                    <h1 class="text-[18px] font-bold xl:text-[30px] xl:font-semibold text-gray2Pers">Registrar ingresos</h1>
                </div>
                <div>
                    <button class="bg-aquaPers mr-1 w-32 h-7 rounded-[5px] text-[14px] text-white font-bold  md:h-10">Exportar</button>
                </div>
            </div>  

            <div id="table" class="flex flex-col ">
                <div class="w-full relative overflow-x-auto sm:rounded-lg overflow-y-auto h-[300px]">
                    <table class="w-full text-sm text-left rtl:text-right text-gray-500 text-gray-400 h-auto rounded-lg">
                        <thead class="text-xs text-gray-700 uppercase dark:bg-gray-700 dark:text-gray-400">
                            <tr>
                                <th scope="col" class="px-6 py-3">
                                    ID
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Producto
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Fecha
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Monto
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Contacto
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Accion
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if (data) { %>
                                <% for (let i = 0; i < data.length; i++) { %>
                                    <tr class="border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200">
                                        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                            <%= (i + 1) %>
                                        </th>
                                        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                            <%= data[i].Producto %>
                                        </th>
                                        <td class="px-6 py-4">
                                            <%= data[i].Fecha_ingreso %>
                                        </td>
                                        <td class="px-6 py-4">
                                            <%= data[i].Monto%>
                                        </td>
                                        <td class="px-6 py-4">
                                            <%= data[i].Contacto %>
                                        </td>
                                        <td class="px-6 py-4">
                                            <a href="/facturacion/ingresos/registrar-ingresos/update/<%= data[i].ID_ingreso %> " class="font-medium text-blue-600 dark:text-aquaPers hover:underline">Editar</a>
                                            <a href="/facturacion/ingresos/registrar-ingresos/delete/<%= data[i].ID_ingreso %> " class="font-medium text-blue-600 dark:text-red-700 hover:underline">Borrar</a>
                                        </td>
                                    </tr>
                                <% } %>
                            <% } else {%>
                                <tr class="border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200">
                                    <td colspan="5" class="px-6 py-4 text-center text-gray-500">No hay registros disponibles</td>
                                </tr>
                            <% } %>
                            
                        </tbody>
                    </table>

                </div>
                <div class="w-1/2 mr-4 flex flex-col my-7">
                    <h3 class="text-[16px] font-bold xl:text-[20px] mb-2 xl:font-semibold text-gray2Pers">Agrega un ingreso</h3>
                    <div class="flex flex-col">
                        <form action="/facturacion/ingresos/registrar-ingresos" method="post" class="w-screen xl:pr-[450px] pr-[100px]" id="form">
                            <div class="">
                                <div class="flex mb-2">
                                    <span class="inline-flex items-center px-3 text-sm text-gray-900 bg-gray-200 border rounded-e-0 border-gray-300 border-e-0 rounded-s-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600">
                                        <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"/>
                                        </svg>
                                    </span>
                                    <input type="text" id="input1" autocomplete="off" name="Contacto" id="website-admin" class="rounded-none rounded-e-lg bg-gray-50 border text-gray-900 focus:border-aquaPers block focus:outline-none flex-1 min-w-0 w-full text-sm border-gray-300 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-aquaPers" placeholder="Contacto">
                                </div>
                                <input oninput="this.value = this.value.replace(/[^0-9]/g, '')" inputmode="numeric"  placeholder="Cantidad" id="input2" autocomplete="off" name="Monto" type="text" name="" class=" mb-2 bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg focus:outline-none block w-full p-2.5  dark:bg-gray-700 focus:dark:border-aquaPers dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" >
                            </div>
                            <div class="flex xl:w-full w-full">
                                <div class="w-full xl:flex">
                                    <input placeholder="Fecha" oninput="this.value = this.value.replace(/[^0-9-]/g, '')" inputmode="numeric"  id="input3" autocomplete="off" name="Fecha_ingreso"  type="text"  class="mb-2 bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg focus:outline-none block w-full p-2.5  dark:bg-gray-700 focus:dark:border-aquaPers dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" >
                                    <input placeholder="Producto" id="input4" autocomplete="off" name="Producto" type="text"  class="mb-2 bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg focus:outline-none block w-full p-2.5  dark:bg-gray-700 focus:dark:border-aquaPers dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" >
                                </div>
                            </div>
                            <div class="mt-2 flex">
                                <button type="button" id="cancelar" class=" px-5 py-2.5 text-sm font-medium text-white bg-blue-700 focus:outline-none rounded-lg text-center dark:bg-red-700 ">Cancelar</button>
                                <button type="submit" id="btn" class="ml-4 px-5 py-2.5 text-sm font-medium text-white bg-blue-700 focus:outline-none rounded-lg text-center dark:bg-aquaPers">Agregar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/gh/cosmogicofficial/quantumalert@latest/minfile/quantumalert.js" charset="utf-8" defer async></script>
    <script src="/JS/ingresos.js" type="module"></script>
    <script src="/JS/utils/drop.js"></script>

</body>
</html>